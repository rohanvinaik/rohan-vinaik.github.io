<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üéÆ Sudoku - Easter Egg</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Courier New', monospace;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      color: #00ff00;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    .container {
      background: rgba(0, 0, 0, 0.8);
      border: 2px solid #00ff00;
      border-radius: 10px;
      padding: 30px;
      box-shadow: 0 0 20px rgba(0, 255, 0, 0.3);
      max-width: 600px;
      width: 100%;
    }

    .header {
      text-align: center;
      margin-bottom: 20px;
    }

    .header h1 {
      color: #00ff00;
      text-shadow: 0 0 10px rgba(0, 255, 0, 0.8);
      margin-bottom: 10px;
      font-size: 2em;
    }

    .header p {
      color: #808080;
      font-size: 0.9em;
    }

    .controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      flex-wrap: wrap;
      gap: 10px;
    }

    .difficulty {
      display: flex;
      gap: 10px;
    }

    button {
      background: #0a4d0a;
      color: #00ff00;
      border: 1px solid #00ff00;
      padding: 8px 16px;
      cursor: pointer;
      font-family: 'Courier New', monospace;
      font-size: 14px;
      transition: all 0.3s;
      border-radius: 4px;
    }

    button:hover {
      background: #00ff00;
      color: #000;
      box-shadow: 0 0 10px rgba(0, 255, 0, 0.6);
    }

    button.active {
      background: #00ff00;
      color: #000;
    }

    .timer {
      color: #00ff00;
      font-size: 1.2em;
      font-weight: bold;
    }

    .sudoku-board {
      display: grid;
      grid-template-columns: repeat(9, 1fr);
      gap: 0;
      background: #00ff00;
      border: 3px solid #00ff00;
      margin: 20px auto;
      max-width: 450px;
      aspect-ratio: 1;
    }

    .cell {
      aspect-ratio: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      background: #1a1a2e;
      border: 1px solid #0a4d0a;
      font-size: clamp(16px, 4vw, 24px);
      font-weight: bold;
      color: #00ff00;
      cursor: pointer;
      transition: all 0.2s;
    }

    .cell:hover:not(.given):not(.completed) {
      background: #0a4d0a;
    }

    .cell.given {
      background: #16213e;
      color: #00ffff;
      cursor: default;
    }

    .cell.selected {
      background: #0a4d0a !important;
      box-shadow: inset 0 0 10px rgba(0, 255, 0, 0.5);
    }

    .cell.error {
      background: #4d0a0a !important;
      color: #ff0000 !important;
    }

    .cell.completed {
      animation: pulse 0.5s;
    }

    .cell:nth-child(3n) {
      border-right: 3px solid #00ff00;
    }

    .cell:nth-child(n):nth-child(-n+9):nth-child(3n) {
      border-right: 3px solid #00ff00;
    }

    .cell:nth-child(n+19):nth-child(-n+27) {
      border-bottom: 3px solid #00ff00;
    }

    .cell:nth-child(n+46):nth-child(-n+54) {
      border-bottom: 3px solid #00ff00;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }

    .message {
      text-align: center;
      margin-top: 20px;
      font-size: 1.2em;
      min-height: 30px;
    }

    .message.success {
      color: #00ff00;
      text-shadow: 0 0 10px rgba(0, 255, 0, 0.8);
      animation: blink 1s infinite;
    }

    @keyframes blink {
      0%, 50%, 100% { opacity: 1; }
      25%, 75% { opacity: 0.5; }
    }

    .actions {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-top: 20px;
      flex-wrap: wrap;
    }

    .back-link {
      text-align: center;
      margin-top: 20px;
    }

    .back-link a {
      color: #808080;
      text-decoration: none;
      transition: color 0.3s;
    }

    .back-link a:hover {
      color: #00ff00;
    }

    @media (max-width: 600px) {
      .container {
        padding: 15px;
      }

      .header h1 {
        font-size: 1.5em;
      }

      .controls {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>üéÆ SUDOKU</h1>
      <p>// Secret Easter Egg Discovered!</p>
    </div>

    <div class="controls">
      <div class="difficulty">
        <button class="diff-btn active" data-level="easy">Easy</button>
        <button class="diff-btn" data-level="medium">Medium</button>
        <button class="diff-btn" data-level="hard">Hard</button>
      </div>
      <div class="timer">‚è±Ô∏è <span id="time">00:00</span></div>
    </div>

    <div class="sudoku-board" id="board"></div>

    <div class="message" id="message"></div>

    <div class="actions">
      <button id="new-game">New Game</button>
      <button id="hint">Hint</button>
      <button id="check">Check</button>
      <button id="solve">Solve</button>
    </div>

    <div class="back-link">
      <a href="index.html">‚Üê Back to main site</a>
    </div>
  </div>

  <script>
    // Sudoku Game Logic
    class SudokuGame {
      constructor() {
        this.board = [];
        this.solution = [];
        this.selectedCell = null;
        this.difficulty = 'easy';
        this.timer = 0;
        this.timerInterval = null;
        this.isCompleted = false;
        
        this.initializeBoard();
        this.attachEventListeners();
        this.newGame();
      }

      initializeBoard() {
        const boardElement = document.getElementById('board');
        for (let i = 0; i < 81; i++) {
          const cell = document.createElement('div');
          cell.className = 'cell';
          cell.dataset.index = i;
          boardElement.appendChild(cell);
        }
      }

      attachEventListeners() {
        // Cell clicks
        document.getElementById('board').addEventListener('click', (e) => {
          if (e.target.classList.contains('cell') && !this.isCompleted) {
            this.selectCell(parseInt(e.target.dataset.index));
          }
        });

        // Keyboard input
        document.addEventListener('keydown', (e) => {
          if (this.selectedCell === null || this.isCompleted) return;
          
          const key = e.key;
          if (key >= '1' && key <= '9') {
            this.setCell(this.selectedCell, parseInt(key));
          } else if (key === 'Backspace' || key === 'Delete' || key === '0') {
            this.setCell(this.selectedCell, 0);
          }
        });

        // Buttons
        document.getElementById('new-game').addEventListener('click', () => this.newGame());
        document.getElementById('hint').addEventListener('click', () => this.giveHint());
        document.getElementById('check').addEventListener('click', () => this.checkBoard());
        document.getElementById('solve').addEventListener('click', () => this.solvePuzzle());

        // Difficulty buttons
        document.querySelectorAll('.diff-btn').forEach(btn => {
          btn.addEventListener('click', (e) => {
            document.querySelectorAll('.diff-btn').forEach(b => b.classList.remove('active'));
            e.target.classList.add('active');
            this.difficulty = e.target.dataset.level;
            this.newGame();
          });
        });
      }

      selectCell(index) {
        const cells = document.querySelectorAll('.cell');
        cells.forEach(c => c.classList.remove('selected'));
        
        const cell = cells[index];
        if (!cell.classList.contains('given')) {
          cell.classList.add('selected');
          this.selectedCell = index;
        } else {
          this.selectedCell = null;
        }
      }

      setCell(index, value) {
        const cell = document.querySelectorAll('.cell')[index];
        if (cell.classList.contains('given')) return;

        this.board[index] = value;
        cell.textContent = value || '';
        cell.classList.remove('error');

        if (value !== 0) {
          if (!this.isValidMove(index, value)) {
            cell.classList.add('error');
          } else if (this.checkCompletion()) {
            this.completeGame();
          }
        }
      }

      isValidMove(index, value) {
        const row = Math.floor(index / 9);
        const col = index % 9;

        // Check row
        for (let c = 0; c < 9; c++) {
          if (c !== col && this.board[row * 9 + c] === value) {
            return false;
          }
        }

        // Check column
        for (let r = 0; r < 9; r++) {
          if (r !== row && this.board[r * 9 + col] === value) {
            return false;
          }
        }

        // Check 3x3 box
        const boxRow = Math.floor(row / 3) * 3;
        const boxCol = Math.floor(col / 3) * 3;
        for (let r = boxRow; r < boxRow + 3; r++) {
          for (let c = boxCol; c < boxCol + 3; c++) {
            const idx = r * 9 + c;
            if (idx !== index && this.board[idx] === value) {
              return false;
            }
          }
        }

        return true;
      }

      generateSolution() {
        const board = Array(81).fill(0);
        this.fillBoard(board);
        return board;
      }

      fillBoard(board) {
        for (let i = 0; i < 81; i++) {
          if (board[i] === 0) {
            const numbers = this.shuffleArray([1, 2, 3, 4, 5, 6, 7, 8, 9]);
            for (let num of numbers) {
              if (this.isValidPlacement(board, i, num)) {
                board[i] = num;
                if (this.fillBoard(board)) {
                  return true;
                }
                board[i] = 0;
              }
            }
            return false;
          }
        }
        return true;
      }

      isValidPlacement(board, index, value) {
        const row = Math.floor(index / 9);
        const col = index % 9;

        // Check row
        for (let c = 0; c < 9; c++) {
          if (board[row * 9 + c] === value) return false;
        }

        // Check column
        for (let r = 0; r < 9; r++) {
          if (board[r * 9 + col] === value) return false;
        }

        // Check 3x3 box
        const boxRow = Math.floor(row / 3) * 3;
        const boxCol = Math.floor(col / 3) * 3;
        for (let r = boxRow; r < boxRow + 3; r++) {
          for (let c = boxCol; c < boxCol + 3; c++) {
            if (board[r * 9 + c] === value) return false;
          }
        }

        return true;
      }

      shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
      }

      createPuzzle(solution) {
        const puzzle = [...solution];
        const cellsToRemove = {
          easy: 35,
          medium: 45,
          hard: 55
        }[this.difficulty];

        const indices = this.shuffleArray([...Array(81).keys()]);
        for (let i = 0; i < cellsToRemove; i++) {
          puzzle[indices[i]] = 0;
        }

        return puzzle;
      }

      newGame() {
        this.isCompleted = false;
        this.selectedCell = null;
        clearInterval(this.timerInterval);
        this.timer = 0;
        this.updateTimer();

        this.solution = this.generateSolution();
        this.board = this.createPuzzle(this.solution);

        this.renderBoard();
        this.startTimer();
        document.getElementById('message').textContent = '';
      }

      renderBoard() {
        const cells = document.querySelectorAll('.cell');
        cells.forEach((cell, i) => {
          cell.textContent = this.board[i] || '';
          cell.className = 'cell';
          if (this.board[i] !== 0) {
            cell.classList.add('given');
          }
        });
      }

      startTimer() {
        this.timerInterval = setInterval(() => {
          this.timer++;
          this.updateTimer();
        }, 1000);
      }

      updateTimer() {
        const minutes = Math.floor(this.timer / 60).toString().padStart(2, '0');
        const seconds = (this.timer % 60).toString().padStart(2, '0');
        document.getElementById('time').textContent = `${minutes}:${seconds}`;
      }

      checkCompletion() {
        for (let i = 0; i < 81; i++) {
          if (this.board[i] === 0 || this.board[i] !== this.solution[i]) {
            return false;
          }
        }
        return true;
      }

      completeGame() {
        this.isCompleted = true;
        clearInterval(this.timerInterval);
        document.getElementById('message').textContent = 'üéâ PUZZLE SOLVED! üéâ';
        document.getElementById('message').className = 'message success';
        
        const cells = document.querySelectorAll('.cell');
        cells.forEach(cell => cell.classList.add('completed'));
      }

      giveHint() {
        if (this.isCompleted) return;

        const emptyCells = [];
        for (let i = 0; i < 81; i++) {
          if (this.board[i] === 0) {
            emptyCells.push(i);
          }
        }

        if (emptyCells.length > 0) {
          const hintIndex = emptyCells[Math.floor(Math.random() * emptyCells.length)];
          this.selectCell(hintIndex);
          this.setCell(hintIndex, this.solution[hintIndex]);
          document.getElementById('message').textContent = 'üí° Hint given!';
          setTimeout(() => {
            document.getElementById('message').textContent = '';
          }, 2000);
        }
      }

      checkBoard() {
        if (this.isCompleted) return;

        let hasErrors = false;
        const cells = document.querySelectorAll('.cell');
        
        cells.forEach((cell, i) => {
          cell.classList.remove('error');
          if (this.board[i] !== 0 && this.board[i] !== this.solution[i]) {
            cell.classList.add('error');
            hasErrors = true;
          }
        });

        if (hasErrors) {
          document.getElementById('message').textContent = '‚ùå Some cells are incorrect!';
        } else if (this.checkCompletion()) {
          this.completeGame();
        } else {
          document.getElementById('message').textContent = '‚úì All filled cells are correct!';
        }

        setTimeout(() => {
          if (!this.isCompleted) {
            document.getElementById('message').textContent = '';
          }
        }, 2000);
      }

      solvePuzzle() {
        if (confirm('Are you sure you want to solve the puzzle?')) {
          this.board = [...this.solution];
          this.renderBoard();
          this.completeGame();
        }
      }
    }

    // Initialize game
    window.addEventListener('DOMContentLoaded', () => {
      new SudokuGame();
    });
  </script>
</body>
</html>
