<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rohan Vinaik | Narrative Prototype</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

  <!-- Theme -->
  <link rel="stylesheet" href="lab-theme.css">
  <link rel="stylesheet" href="research-graph-v2.css">

  <style>
    /* ============================================
       LAYOUT: Sidebar + Main Content
       ============================================ */
    body {
      display: flex;
      min-height: 100vh;
    }

    /* Mission Control Sidebar */
    .sidebar {
      position: fixed;
      left: 0;
      top: 0;
      bottom: 0;
      width: 260px;
      background: var(--bg-secondary);
      border-right: 1px solid var(--border);
      display: flex;
      flex-direction: column;
      font-family: var(--font-mono);
      z-index: 100;
    }

    .sidebar__header {
      padding: var(--space-lg) var(--space-md);
      border-bottom: 1px solid var(--border);
    }

    .sidebar__name {
      font-size: 0.9rem;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: var(--space-xs);
    }

    .sidebar__path {
      font-size: 0.75rem;
      color: var(--text-muted);
    }

    .sidebar__nav {
      padding: var(--space-md);
      flex: 1;
    }

    .nav-item {
      display: flex;
      align-items: center;
      gap: var(--space-sm);
      padding: var(--space-sm) var(--space-sm);
      font-size: 0.8rem;
      color: var(--text-secondary);
      cursor: pointer;
      border-radius: 4px;
      transition: all var(--transition-fast);
      text-decoration: none;
      border: none;
      background: none;
      width: 100%;
      text-align: left;
    }

    .nav-item:hover {
      background: var(--bg-tertiary);
      color: var(--text-primary);
    }

    .nav-item.active {
      color: var(--text-primary);
      font-weight: 500;
    }

    .nav-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      border: 1.5px solid var(--text-muted);
      transition: all var(--transition-fast);
    }

    .nav-item.active .nav-dot {
      background: var(--text-primary);
      border-color: var(--text-primary);
    }

    .sidebar__footer {
      padding: var(--space-md);
      border-top: 1px solid var(--border);
      font-size: 0.65rem;
    }

    .coherence-display {
      color: var(--text-muted);
      margin-bottom: var(--space-sm);
      letter-spacing: 0.03em;
    }

    .sidebar__links {
      display: flex;
      gap: var(--space-sm);
    }

    .sidebar__links a,
    .sidebar__links button {
      color: var(--text-muted);
      text-decoration: none;
      border-bottom: none;
    }

    .sidebar__links a:hover,
    .sidebar__links button:hover {
      color: var(--text-primary);
    }

    .theme-toggle-btn {
      background: none;
      border: none;
      font-family: var(--font-mono);
      font-size: inherit;
      color: var(--text-muted);
      cursor: pointer;
      padding: 0;
    }

    /* Main Content Area */
    .main {
      margin-left: 260px;
      flex: 1;
      min-height: 100vh;
    }

    /* ============================================
       HERO: Above content, not overlapping
       ============================================ */
    .hero-section {
      height: 50vh;
      min-height: 350px;
      max-height: 500px;
      border-bottom: 1px solid var(--border);
      background: var(--bg-secondary);
    }

    .hero-container {
      width: 100%;
      height: 100%;
      position: relative;
    }

    .hero-canvas {
      display: block;
      cursor: crosshair;
    }

    .hero-overlay {
      position: absolute;
      bottom: var(--space-lg);
      left: 50%;
      transform: translateX(-50%);
      text-align: center;
      pointer-events: none;
      width: 80%;
      max-width: 600px;
    }

    .hero-promise {
      font-family: var(--font-mono);
      font-size: 1rem;
      color: var(--text-primary);
      margin-bottom: var(--space-xs);
      letter-spacing: 0.02em;
    }

    .hero-evidence {
      font-family: var(--font-mono);
      font-size: 0.7rem;
      color: var(--text-muted);
      letter-spacing: 0.03em;
    }

    /* ============================================
       CHAPTERS: Content sections
       ============================================ */
    .chapter {
      min-height: 80vh;
      padding: var(--space-xl) var(--space-xl);
      border-bottom: 1px solid var(--border);
      max-width: 1200px;
    }

    .chapter:last-child {
      border-bottom: none;
    }

    .chapter__header {
      margin-bottom: var(--space-lg);
    }

    .chapter__title {
      font-size: 1.3rem;
      font-weight: 600;
      margin-bottom: var(--space-xs);
      letter-spacing: -0.01em;
    }

    .chapter__subtitle {
      font-family: var(--font-mono);
      font-size: 0.75rem;
      color: var(--text-muted);
      letter-spacing: 0.03em;
    }

    /* Chapter-specific content */
    .metrics-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: var(--space-md);
      margin: var(--space-lg) 0;
    }

    .metric-card {
      background: var(--bg-primary);
      border: 1px solid var(--border);
      padding: var(--space-md);
    }

    .metric-value {
      font-family: var(--font-mono);
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--text-primary);
      letter-spacing: -0.02em;
    }

    .metric-label {
      font-size: 0.8rem;
      color: var(--text-secondary);
      margin-top: var(--space-xs);
      line-height: 1.4;
    }

    .project-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: var(--space-md);
    }

    .project-card {
      background: var(--bg-primary);
      border: 1px solid var(--border);
      padding: var(--space-md);
      transition: border-color 0.15s ease;
    }

    .project-card:hover {
      border-color: var(--text-secondary);
    }

    .project-card__domain {
      display: inline-block;
      width: 6px;
      height: 6px;
      border-radius: 50%;
      margin-right: var(--space-xs);
    }

    .project-card__domain--biology { background: var(--accent-biology); }
    .project-card__domain--ai { background: var(--accent-ai); }
    .project-card__domain--theory { background: var(--accent-theory); }

    .project-card__title {
      font-size: 0.95rem;
      font-weight: 600;
      margin-bottom: var(--space-xs);
    }

    .project-card__meta {
      font-family: var(--font-mono);
      font-size: 0.65rem;
      color: var(--text-muted);
      margin-bottom: var(--space-sm);
      letter-spacing: 0.03em;
    }

    .project-card__description {
      font-size: 0.85rem;
      color: var(--text-secondary);
      margin-bottom: var(--space-sm);
      line-height: 1.5;
    }

    .project-card__papers {
      font-family: var(--font-mono);
      font-size: 0.7rem;
      padding-top: var(--space-sm);
      border-top: 1px solid var(--border);
    }

    .project-card__papers a {
      color: var(--text-secondary);
      margin-right: var(--space-md);
    }

    .project-card__papers a:hover {
      color: var(--text-primary);
    }

    .approach-list {
      max-width: 600px;
    }

    .approach-item {
      padding: var(--space-md) 0;
      border-bottom: 1px solid var(--border-subtle);
    }

    .approach-item:last-child {
      border-bottom: none;
    }

    .approach-item__title {
      font-family: var(--font-mono);
      font-size: 0.9rem;
      color: var(--text-primary);
      margin-bottom: var(--space-xs);
    }

    .approach-item__description {
      font-size: 0.9rem;
      color: var(--text-secondary);
    }

    /* Paper Feed */
    .paper-feed-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--space-lg);
      flex-wrap: wrap;
      gap: var(--space-md);
    }

    .paper-feed-controls {
      display: flex;
      gap: var(--space-md);
      align-items: center;
    }

    .paper-feed-controls select,
    .paper-feed-controls button {
      font-family: var(--font-mono);
      font-size: 0.75rem;
      padding: var(--space-xs) var(--space-sm);
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      color: var(--text-primary);
      cursor: pointer;
    }

    .paper-feed-controls select:hover,
    .paper-feed-controls button:hover {
      border-color: var(--text-primary);
    }

    /* Paper Items - Simplified (Winston: title + one sentence) */
    .paper-item {
      display: block;
      padding: var(--space-sm) 0;
      border-bottom: 1px solid var(--border);
      text-decoration: none;
    }

    .paper-item:last-child {
      border-bottom: none;
    }

    .paper-item--link {
      cursor: pointer;
      transition: all 0.15s ease;
    }

    .paper-item--link:hover {
      padding-left: var(--space-sm);
    }

    .paper-item--link:hover .paper-item__title {
      color: var(--text-primary);
    }

    .paper-item__title {
      font-family: var(--font-mono);
      font-size: 0.85rem;
      font-weight: 500;
      color: var(--text-primary);
      line-height: 1.4;
    }

    .paper-item__summary {
      font-size: 0.8rem;
      color: var(--text-secondary);
      line-height: 1.4;
      margin-top: 2px;
    }

    /* About section */
    .about-content {
      max-width: 600px;
    }

    .about-content p {
      margin-bottom: var(--space-md);
    }

    .contact-links {
      display: flex;
      gap: var(--space-lg);
      margin-top: var(--space-lg);
      font-family: var(--font-mono);
      font-size: 0.85rem;
    }

    .contact-links a {
      color: var(--text-primary);
    }

    /* ============================================
       MOBILE RESPONSIVE
       ============================================ */
    @media (max-width: 768px) {
      .sidebar {
        width: 48px;
        padding: var(--space-sm);
      }

      .sidebar__header,
      .sidebar__footer,
      .nav-item span {
        display: none;
      }

      .sidebar__nav {
        padding: var(--space-sm) 0;
      }

      .nav-item {
        justify-content: center;
        padding: var(--space-md) 0;
      }

      .main {
        margin-left: 48px;
      }
    }
  </style>
</head>
<body>
  <!-- Start in light mode (default) -->

  <!-- Mission Control Sidebar -->
  <nav class="sidebar">
    <div class="sidebar__header">
      <div class="sidebar__name">ROHAN VINAIK</div>
      <div class="sidebar__path" id="terminal-path">rohan@personal ~/home</div>
    </div>

    <div class="sidebar__nav">
      <a href="#home" class="nav-item active" data-chapter="home">
        <span class="nav-dot"></span>
        <span>HOME</span>
      </a>
      <a href="#approach" class="nav-item" data-chapter="approach">
        <span class="nav-dot"></span>
        <span>APPROACH</span>
      </a>
      <a href="#work" class="nav-item" data-chapter="work">
        <span class="nav-dot"></span>
        <span>WORK</span>
      </a>
      <a href="#papers" class="nav-item" data-chapter="papers">
        <span class="nav-dot"></span>
        <span>PAPERS</span>
      </a>
      <a href="#about" class="nav-item" data-chapter="about">
        <span class="nav-dot"></span>
        <span>ABOUT</span>
      </a>
    </div>

    <div class="sidebar__footer">
      <div class="coherence-display" id="coherence-display">coherence: 0.00</div>
      <div class="sidebar__links">
        <a href="https://github.com/rohan-vinaik" target="_blank">github</a>
        <a href="mailto:rohan@example.com">email</a>
        <button class="theme-toggle-btn" id="theme-toggle" title="Toggle theme">theme</button>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="main">
    <!-- Persistent Hero -->
    <section class="hero-section">
      <div class="hero-container">
        <canvas id="hero-canvas" class="hero-canvas"></canvas>
        <div class="hero-overlay">
          <div class="hero-promise">Computation through constraint</div>
          <div class="hero-evidence">30x faster verification · 1Mx faster queries</div>
        </div>
      </div>
    </section>

    <!-- Chapter 1: Home -->
    <section class="chapter" id="home">
      <div class="chapter__header">
        <h1 class="chapter__title">Research at the intersection of biology and verification</h1>
        <p class="chapter__subtitle">encoding // constraints // emergence</p>
      </div>

      <div class="metrics-grid">
        <div class="metric-card">
          <div class="metric-value">1,000,000x</div>
          <div class="metric-label">Faster queries via hyperdimensional encoding</div>
        </div>
        <div class="metric-card">
          <div class="metric-value">30x</div>
          <div class="metric-label">Faster model verification without weights</div>
        </div>
        <div class="metric-card">
          <div class="metric-value">95.8%</div>
          <div class="metric-label">Black-box accuracy with 256 API calls</div>
        </div>
      </div>
    </section>

    <!-- Chapter 2: Approach -->
    <section class="chapter" id="approach">
      <div class="chapter__header">
        <h2 class="chapter__title">Approach</h2>
        <p class="chapter__subtitle">how structure does the work</p>
      </div>

      <div class="approach-list">
        <div class="approach-item">
          <div class="approach-item__title">Choose the right encoding</div>
          <div class="approach-item__description">When the representation honors the problem's natural structure, answers emerge from geometry rather than search.</div>
        </div>
        <div class="approach-item">
          <div class="approach-item__title">Satisfy, don't optimize</div>
          <div class="approach-item__description">Biology navigates constraint landscapes. Systems that find valid regions outperform those chasing global optima.</div>
        </div>
        <div class="approach-item">
          <div class="approach-item__title">Let physics compute</div>
          <div class="approach-item__description">Hyperdimensional vectors, constraint surfaces, topological features. The substrate does the heavy lifting.</div>
        </div>
        <div class="approach-item">
          <div class="approach-item__title">Verify without opening</div>
          <div class="approach-item__description">Mathematical guarantees about systems you can't see inside. Behavioral signatures, not internal inspection.</div>
        </div>
      </div>
    </section>

    <!-- Chapter 3: Work -->
    <section class="chapter" id="work">
      <div class="chapter__header">
        <h2 class="chapter__title">Work</h2>
        <p class="chapter__subtitle">projects and publications</p>
      </div>

      <!-- Research Graph -->
      <div id="research-graph-container" style="height: 520px; margin-bottom: var(--space-lg); overflow: visible;"></div>

      <h3 style="margin-top: var(--space-xl); margin-bottom: var(--space-md);">Featured Projects</h3>

      <div class="project-grid">
        <div class="project-card">
          <span class="project-card__domain project-card__domain--biology"></span>
          <h3 class="project-card__title">GenomeVault</h3>
          <div class="project-card__meta">biology // encoding // privacy</div>
          <p class="project-card__description">DNA storage that works like memory, not files. 40x compression with semantic query. Privacy through geometry.</p>
          <div class="project-card__papers">
            <a href="#">Technical paper</a>
            <a href="#">Privacy stack</a>
          </div>
        </div>

        <div class="project-card">
          <span class="project-card__domain project-card__domain--ai"></span>
          <h3 class="project-card__title">Proof of Training</h3>
          <div class="project-card__meta">ai-security // verification</div>
          <p class="project-card__description">Cryptographic model identity. Verify training without revealing weights. 30x faster than baseline.</p>
          <div class="project-card__papers">
            <a href="#">Working paper</a>
            <a href="#">Codebase</a>
          </div>
        </div>

        <div class="project-card">
          <span class="project-card__domain project-card__domain--ai"></span>
          <h3 class="project-card__title">Behavioral Holography</h3>
          <div class="project-card__meta">ai-security // black-box</div>
          <p class="project-card__description">Fingerprint models from API alone. 95.8% accuracy with 256 calls. Holographic behavioral twins.</p>
          <div class="project-card__papers">
            <a href="#">Journal submission</a>
          </div>
        </div>

        <div class="project-card">
          <span class="project-card__domain project-card__domain--theory"></span>
          <h3 class="project-card__title">COEC Framework</h3>
          <div class="project-card__meta">theory // constraints</div>
          <p class="project-card__description">Computation as trajectory through constrained state space. Formalizes 9 computational classes.</p>
          <div class="project-card__papers">
            <a href="#">Artificial Life submission</a>
          </div>
        </div>
      </div>

    </section>

    <!-- Chapter 4: Papers -->
    <section class="chapter" id="papers">
      <div class="chapter__header">
        <h2 class="chapter__title">Papers</h2>
        <p class="chapter__subtitle">publications and paper feed</p>
      </div>

      <!-- Publications: Title + One Sentence (Winston principle) -->
      <h3 style="margin-bottom: var(--space-md);">Publications</h3>
      <div class="publications-list" style="margin-bottom: var(--space-xl);">

        <a href="papers/behavioral-holography.html" class="paper-item paper-item--link">
          <div class="paper-item__title">Behavioral Holography</div>
          <div class="paper-item__summary">Fingerprint language models from API responses alone—95.8% accuracy with 256 calls.</div>
        </a>

        <a href="#" class="paper-item paper-item--link">
          <div class="paper-item__title">Proof-of-Training</div>
          <div class="paper-item__summary">Verify model training provenance without revealing weights—30x faster than baseline.</div>
        </a>

        <a href="#" class="paper-item paper-item--link">
          <div class="paper-item__title">GenomeVault</div>
          <div class="paper-item__summary">DNA storage with semantic query—40x compression, nanosecond lookups, privacy through geometry.</div>
        </a>

        <a href="papers/orthogonal-ternary-projection.html" class="paper-item paper-item--link">
          <div class="paper-item__title">Orthogonal Ternary Projection</div>
          <div class="paper-item__summary">DNA is not base-4, it's base-2²—zeros encode orthogonality, not absence.</div>
        </a>

        <a href="papers/coec-framework.html" class="paper-item paper-item--link">
          <div class="paper-item__title">COEC Framework</div>
          <div class="paper-item__summary">Computation as trajectory through constrained state space—formalizes 9 computational classes.</div>
        </a>

        <a href="papers/ontological-framework.html" class="paper-item paper-item--link">
          <div class="paper-item__title">An Ontological Framework for Meaning</div>
          <div class="paper-item__summary">How meaning, knowledge, and intelligence emerge from constraints, topology, and intention.</div>
        </a>

        <a href="papers/narrative-ethics.html" class="paper-item paper-item--link">
          <div class="paper-item__title">Beyond Binary Ethics</div>
          <div class="paper-item__summary">Machines as philosophical mirrors—narrative learning as ethical development.</div>
        </a>

      </div>

      <!-- Paper Feed -->
      <h3 style="margin-bottom: var(--space-md);">Reading</h3>
      <div class="paper-feed-header">
        <div class="paper-feed-meta" style="font-family: var(--font-mono); font-size: 0.65rem; color: var(--text-muted);">
          <span id="total-papers">--</span> papers · <span id="last-updated">--</span>
        </div>
        <div class="paper-feed-controls">
          <select id="topic-filter">
            <option value="all">All</option>
            <option value="hdc">HDC</option>
            <option value="genomics">Genomics</option>
            <option value="ai-security">AI Security</option>
            <option value="tda">TDA</option>
            <option value="theory">Theory</option>
          </select>
          <select id="count-select">
            <option value="5">5</option>
            <option value="10">10</option>
            <option value="20">20</option>
          </select>
        </div>
      </div>

      <div id="feed-status" style="display: none; padding: var(--space-sm); margin-bottom: var(--space-md); border: 1px solid var(--border); font-family: var(--font-mono); font-size: 0.75rem;">
        <span id="status-message"></span>
      </div>

      <div id="papers-container">
        <div style="text-align: center; padding: var(--space-xl); color: var(--text-muted); font-size: 0.85rem;">
          Loading paper feed...
        </div>
      </div>
    </section>

    <!-- Chapter 5: About -->
    <section class="chapter" id="about">
      <div class="chapter__header">
        <h2 class="chapter__title">About</h2>
        <p class="chapter__subtitle">the person behind the patterns</p>
      </div>

      <div class="about-content">
        <p>I'm a researcher working at the intersection of biology and computation. My work asks: what can we learn from how biological systems encode and verify information?</p>

        <p>The answer, repeatedly, is that the right representation makes the hard part easy. DNA's constraint geometry enables error correction. Hyperdimensional vectors enable similarity in constant time. Behavioral signatures enable verification without access.</p>

        <p>Currently seeking opportunities in AI safety research, with particular interest in model verification and interpretability.</p>

        <div class="contact-links">
          <a href="#">GitHub</a>
          <a href="#">Email</a>
          <a href="#">CV</a>
        </div>
      </div>
    </section>
  </main>

  <!-- Scripts -->
  <script src="hero.js"></script>
  <script src="graph-data.js"></script>
  <script src="research-graph-v2.js"></script>
  <script src="paper-feed.js"></script>
  <script>
    // Initialize hero with chapter change callback
    // Using IntersectionObserver for chapter detection (more accurate than scroll %)
    const canvas = document.getElementById('hero-canvas');
    const hero = new AsciiHero(canvas, {
      starCount: 180,
      starOpacity: 0.15,
      motifParticleCount: 1800,
      particleSize: 1.6,
      baseCoherence: 0.2,
      maxCoherence: 0.98,
      coherenceRadius: 180,
      breathingSpeed: 0.06,
      dotColor: '#1a1a1a',
      backgroundColor: '#fafafa',
      autoChapterDetection: false, // Using IntersectionObserver instead
      onChapterChange: updateNavigation
    });

    // Navigation elements
    const navItems = document.querySelectorAll('.nav-item');
    const terminalPath = document.getElementById('terminal-path');
    const coherenceDisplay = document.getElementById('coherence-display');

    // Update navigation when chapter changes
    function updateNavigation(event) {
      // Update active nav item
      navItems.forEach(item => {
        if (item.dataset.chapter === event.current) {
          item.classList.add('active');
        } else {
          item.classList.remove('active');
        }
      });

      // Update terminal path
      terminalPath.textContent = `rohan@personal ~/${event.current}`;
    }

    // Navigation click handling
    navItems.forEach(item => {
      item.addEventListener('click', (e) => {
        e.preventDefault();
        const targetId = item.getAttribute('href').slice(1);
        const targetSection = document.getElementById(targetId);
        if (targetSection) {
          targetSection.scrollIntoView({ behavior: 'smooth' });
        }
      });
    });

    // Update coherence display
    setInterval(() => {
      coherenceDisplay.textContent = `coherence: ${hero.getCoherence().toFixed(2)}`;
    }, 100);

    // Intersection Observer for chapter detection (backup to scroll-based)
    const chapters = document.querySelectorAll('.chapter');
    const observerOptions = {
      root: null,
      rootMargin: '-40% 0px -40% 0px',
      threshold: 0
    };

    const chapterObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const chapterId = entry.target.id;
          hero.setChapter(chapterId);
        }
      });
    }, observerOptions);

    chapters.forEach(chapter => chapterObserver.observe(chapter));

    // Theme toggle
    const themeToggle = document.getElementById('theme-toggle');
    let isDarkMode = false;

    themeToggle.addEventListener('click', () => {
      isDarkMode = !isDarkMode;
      if (isDarkMode) {
        document.documentElement.setAttribute('data-theme', 'dark');
        hero.config.dotColor = '#ffffff';
        hero.config.backgroundColor = '#141414';
      } else {
        document.documentElement.removeAttribute('data-theme');
        hero.config.dotColor = '#1a1a1a';
        hero.config.backgroundColor = '#fafafa';
      }
    });

    // Initialize research graph (v2 - lab aesthetic)
    if (typeof GRAPH_DATA !== 'undefined' && document.getElementById('research-graph-container')) {
      const graph = new ResearchGraphV2('research-graph-container', GRAPH_DATA);
    }

    // Initialize paper feed
    if (typeof PaperFeed !== 'undefined') {
      const paperFeed = new PaperFeed();
      // Trigger initial load since we're not using section activation pattern
      setTimeout(() => {
        paperFeed.initialized = true;
        paperFeed.loadPapers();
      }, 500);
    }
  </script>
</body>
</html>
